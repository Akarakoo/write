<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>writeFast</title>
    <link rel="stylesheet" href="./bootstrap.min.css">
</head>
<body class="bg-dark text-white">
    <header class="bg-secondary text-center p-3 mb-5">
        <h1>نوسین بەخێرایی</h1>
    </header>
    
    <div class="container text-center">
        <!-- Word & Input-->
        <div class="row">
            <div class="col-md-6 mx-auto" >
                <p class="lead" style="direction: rtl">
                    ووشەی دیاری کراو لە ماوەی 
                    <span class="text-success" id="success">5</span>
                    چرکەدا بنووسە:
                </p>

                <h2 class="display-2 mb-5" id="current-word">Hello</h2>

                <input type="text" class="form-control form-control-lg text-center"  placeholder="دەست بکە بە نوسین" id="word-input" autofocus>

                <h4 class="mt-3" id="message"></h4>
               
                <!-- Time & Score Columns-->
                <div class="row mt-5">
                    <div class="col-md-6">
                        <h3 style="direction: rtl">کاتی ماوە:
                            <span id="time">0</span>
                        </h3>
                    </div>

                    <div class="col-md-6">
                        <h3 style="direction: rtl">ئەنجام:
                            <span id="score">0</span>
                        </h3>
                    </div>
                </div>

                <!-- Instructions-->
                <div class="row mt-5">
                    <div class="col-md-12">
                        <div class="card card-body bg-secondary text-white">
                            <h5 style="direction: rtl">ڕێنمای</h5>
                            <p style="direction: rtl">
                                هەر ووشەیەک لە ماوەی دیاری کراودا بنووسە بۆ ئەوەی خاڵ کۆ بکەیتەوە. بۆ ئەوەی دووبارە 
                                یاری بکەیتەوە تەنها ووشەی بەردەست بنووسە. 
                                ئەنجامەکە نوێ دەبێتەوە
                                
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script >window.addEventListener('load',init);
        let time = 6;
        let score = 0;
        let isplaying;
        
        
        
        // DOM (document object module)
        const currentword = document.querySelector('#current-word');
        const wordInput = document.querySelector('#word-input');
        const timedisplay = document.querySelector('#time');
        const scoredisplay = document.querySelector('#score');
        const message = document.querySelector('#message');
        const button = document.querySelector('#button');
        
        // array of word
        const words = [
            "parachute",
            "suburb",
            "method",
            "cover",
            "praise",
            "pace",
            "beard",
            "shadow",
            "boat",
            "weight",
            "gloom",
            "invisible",
            "book",
            "hole",
            "tight",
            "pill",
            "photography",
            "civilization",
            "flight",
            "shiver",
            "teach",
            "cluster",
            "throat",
            "glue",
            "surprise",
            "concrete",
            "council",
            "trouser",
            "survivor",
            "excuse"
        ];
        
        
        // initialize game
        
        function init(){
        
        // start game
        wordInput.addEventListener('input',startgame);
        
        // get a word from a array word
        showWord(words);
        
        // countDown time
        setInterval(CountDown,1000);
        
        // check status
        
        setInterval(checkStatus,50);
        
        }
        
        
        
        // start game
        function startgame(){
            if (matchword()){
                isplaying = true;
                time= 6;
                showWord(words);
                wordInput.value = '';
                score++;
                }
                if(score === -1){
                    scoredisplay.innerHTML = 0;
                }else {
                    scoredisplay.innerHTML = score;
                }
            
        
        
        }
        
        
        // match word
        
        function matchword(){
        if(wordInput.value === currentword.innerHTML){
        
                message.innerHTML = 'Correct';
                return true;
        } else {
         
            wordinput.value = '';
            return false;
            
        }
        
        }
        
        // function show word
        
        function showWord(words){
        const randIndex = Math.floor(Math.random()*words.length);
        currentword.innerHTML = words[randIndex];
        
        }
        // function Time
        function CountDown(){
            if (time>0){
                time--;
        
            } else if(time === 0) {
              
            isplaying = false;     
            }
        timedisplay.innerHTML = time;
        }
        
        // check status
        function checkStatus(){
            if (time === 0 && isplaying === false){
        
                message.innerHTML = 'Game over';
                button.innerHTML = 'again';
                score = -1;
               
            } else {
                button.innerHTML = '';
        
            }
            
        
        }
        
        </script>
</body>
</html>